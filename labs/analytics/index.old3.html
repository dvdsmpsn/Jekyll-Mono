<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html> 
	<head> 
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
		<title>Analytics: PageViews Example</title> 
		<base href="/labs/analytics/">
		
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script> 
		<script type="text/javascript" src="Highcharts-2.1.3/js/highcharts.src.js"></script> 
		
		<!-- 2. Add the JavaScript to initialize the chart on document ready --> 
		<script type="text/javascript"> 
		
		Highcharts.theme = { colors: ['#f0f0f0'] };// prevent errors in default theme
				
		$(document).ready(function() {
			timeseriesIncrement=0;
			$('.timeseries').each(function(){
				me = this;
				timeseriesIncrement++;
				
				thisId = 'timeseries-'+timeseriesIncrement;
				
				$(me).attr('id', thisId); // add an ID.
				
				var chart = new Highcharts.Chart({
					chart: {
						renderTo: thisId, // add an id
						zoomType: 'x',
						spacingRight: 20
					},
				    title: {
						text: $(me).attr('data-analytics-title') 
					},
				    subtitle: {
						text: document.ontouchstart === undefined ?
							'Click and drag in the plot area to zoom in' :
							'Drag your finger over the plot to zoom in'
					},
					xAxis: {
						type: 'datetime',
						maxZoom: 14 * 24 * 3600000, // fourteen days
						title: {
							text: null
						}
					},
					yAxis: {
						title: {
							text: $(me).attr('data-analytics-label') 
						},
						min: 0,
						startOnTick: false,
						showFirstLabel: false
					},
					tooltip: {
						shared: true					
					},
					legend: {
						enabled: false
					},
					credits: {
						enabled: false
					},
					plotOptions: {
						area: {
							fillColor: {
								linearGradient: [0, 0, 0, 0],
								stops: [
									[0, Highcharts.theme.colors[0]],
									[1, 'rgba(2,0,0,0)']
								]
							},
							lineWidth: 1,
							marker: {
								enabled: false,
								states: {
									hover: {
										enabled: true,
										radius: 5
									}
								}
							},
							shadow: false,
							states: {
								hover: {
									lineWidth: 1						
								}
							}
						}
					},
				
					series: [{
						type: 'area',
						name: $(me).attr('data-analytics-label'),
						pointInterval: 24 * 3600 * 1000,
						pointStart: Date.UTC(2010, 11, 01),
						data: eval( '[' +$(me).attr('data-analytics-timeseries') + ']' )
					}]
				});
			});
				
		});
			
		</script> 
		
		<style>
			.timeseries { height: 250px; margin: 20px auto; }
		</style>
	</head> 
	<body> 
		
		<div class="timeseries" 
		     data-analytics-title="PageViews for Readability Test Tool read-able.com" 
		     data-analytics-label="PageViews" 
		     data data-analytics-timeseries="618, 569, 626, 183, 200, 511, 434, 406, 353, 591, 118, 154, 435, 510, 529, 494, 325, 75, 122, 281, 459, 236, 400, 96, 38, 37, 291, 226, 118, 149, 102, 109, 105, 218, 484, 480, 368, 540, 113, 268, 163, 372, 400, 438, 373, 208, 265, 350, 250, 432, 263, 226, 61, 176, 502, 432, 334, 320, 375, 217, 137, 305, 471, 414, 434, 326, 174, 167, 511, 429, 532, 713, 577, 140, 385, 407, 424, 656, 427, 317, 380, 403, 387, 353"></div> 
		
		<div class="timeseries" 
		     data-analytics-title="Timeseries Two" 
		     data-analytics-label="Visits" 
		     data-analytics-timeseries="122, 281, 459, 236, 400, 96, 38, 37, 291, 226, 118, 149, 102, 109, 105, 218, 484, 480, 368, 540, 113, 268, 163, 372, 400, 438, 373, 208, 265, 350, 250, 432, 263,154, 435, 510, 529, 494, 325, 75,  226, 61, 176, 502, 432, 334, 320, 375, 217, 137, 305, 471, 414, 434, 326, 174, 167, 511, 429, 532, 713, 577, 140, 385, 407, 424, 656, 427, 317, 380, 403, 387, 353"></div> 
		
		<div class="timeseries" 
		     data-analytics-title="Timeseries Three" 
		     data-analytics-label="Xxxx" 
		     data-analytics-timeseries="373, 208, 265, 350, 250, 502, 432, 510, 529, 334, 320, 375, 217, 137, 305, 471, 414, 434, 326, 174, 167, 511, 429, 532, 713, 577, 140, 385, 407, 424, 656, 427, 317, 380, 403, 387, 353, 154, 432, 263, 226, 61, 176, 435, 494, 325, 75, 122, 281, 459, 236, 400, 96, 38, 37, 291, 226, 118, 149, 102, 109, 105, 218, 484, 480, 368, 540, 113, 268, 163, 372, 400, 438"></div> 		
				
	</body> 
</html>