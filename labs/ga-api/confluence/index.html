<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Confluence - Google Analytics</title>
	<script type="text/javascript" src="http://www.google.com/jsapi"></script>
	<script type="text/javascript" src="gettingStarted.js"></script>

	<style type="text/css">
		html { font-family: helvetica, arial,sans-serif; line-height: 140%; }
		table { border-collapse: collapse;}
		th { border-bottom: 3px solid #ccc; padding: 0.2em 0.6em;}
		td { border-bottom: 1px solid #ccc; padding: 0.2em 0.6em;}
		.left { text-align: left; }
		.right { text-align: right; }
	/*	li { padding-bottom: 0.6em; }*/
	</style>


	<!-- Source: http://code.google.com/p/ga-api-javascript-samples/ -->

</head>
<body>
	<h1>Confluence/Google Analytics demo</h1>
		
	<h2>What?</h2>
	
	<ul>
		<li>This demo lists your Google Analytics profiles</li>
		<li>This demo lists the spaces in any selected profile which has a Confluence installation</li>
		<li>This demo lists the top 20 pageviews in a particular space</li>
	</ul>
	
	<h2>How?</h2>
	
	<ul>
		<li>Using the Google Analytics Javascript API</li>
		<li>Based on the "Getting Started" example from <a href="http://code.google.com/p/ga-api-javascript-samples/">here</a></li>
		<li><a hef="http://code.google.com/apis/analytics/docs/gdata/gdataExplorer.html">Data Feed Query Explorer</a></li>
	</ul>
	
	
	
	<h2>Prerequisites</h2>
	<ul>
		<li>You need a Google Analytics account of your own</li>
		<li>Your Google Analytics account needs to trust this URL - <em>Too scared? Try this <a href="http://www.vimeo.com/6430883">video demo</a> instead.</em></li>
		<li>You need Confluence with Google Analytics installed</li>
		<li>Confluence has to be installed at root <em>i.e. here: http://yourcompany.com/</em></li>
	</ul>		
	
	<button id="authButton">Loading...</button>
	
	<div id="dataControls" style="display:none">

		<p>
			<button id="getAccount">Get Account Data</button>
		</p>

		<div id="dateRange" style="display:none">
			Use analytics data 
			<label for"startDate">from</label>
			<input id="startDate" type="text" value="2009-08-01" size="10" />

			<label for"endDate">to</label>
			<input id="endDate" type="text" value="2009-09-01" size="10" />
		</div>

		<p id="profilesDiv"></p>
		<p id="spacesDiv"></p>


		<p style="display:none;">
			<!-- This shouldn't be needed any more -->
			<button id="getData">Get Report Data</button><br/>
		</p>


	</div>

	<div id="outputDiv"></div>

	<img src="dummy.gif" style="display:none" alt="required for Google Data" />
	
	
	<script type="text/javascript">
		var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		var pageTracker = _gat._getTracker("UA-920590-3");
	</script>

</body>
<html>